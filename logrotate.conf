# Configuration logrotate pour BF1 TV
# Fichier: /etc/logrotate.d/bf1tv

/var/log/bf1tv/*.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    create 644 www-data www-data
    postrotate
        /bin/kill -USR1 `cat /var/run/bf1tv/gunicorn.pid 2>/dev/null` 2>/dev/null || true
    endscript
}

/var/log/nginx/bf1tv_*.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    create 644 www-data www-data
    postrotate
        /bin/kill -USR1 `cat /var/run/nginx.pid 2>/dev/null` 2>/dev/null || true
    endscript
}
